{% extends "layout.html" %}

{% block head %}
<link rel="stylesheet" href="/static/viewer.css" />
<link rel="stylesheet" href="/static/pdfjs-5.4.54-dist/web/viewer.css" />

<script src="/static/pdfjs-5.4.54-dist/build/pdf.mjs" type="module"></script>
<script src="/static/pdfjs-5.4.54-dist/web/viewer.mjs" type="module"></script>
{% endblock %}

{% block content %}
<div class="story-view-wrapper">
  <!-- Sidebar with Story Details -->
  <aside class="story-sidebar">
    <div class="sidebar-header">
      <a class="button btn btn-back" href="/">‚Üê Back</a>
    </div>

    <div class="sidebar-content">
      <h2 class="story-title">{{ story.title }}</h2>

      <div class="story-details">
        <div class="detail-item">
          <span class="detail-label">Description</span>
          <p class="detail-value">{{ story.description }}</p>
        </div>

        <div class="detail-item">
          <span class="detail-label">Author</span>
          <span class="detail-value">{{ story.author }}</span>
        </div>

        <div class="detail-item">
          <span class="detail-label">Type</span>
          <span class="detail-value">üìÑ PDF Story</span>
        </div>
      </div>
    </div>
  </aside>

  <!-- PDF Viewer Section -->
  <main class="pdf-viewer-section">
    <div id="viewerContainer">
      <div id="viewer" class="pdfViewer"></div>
    </div>
  </main>
</div>

<script>
  const _story = {
    id: "{{ story.id }}",
    title: "{{ story.title | safe }}",
    description: "{{ story.description | safe }}",
    author: "{{ story.author | safe }}",
    filename: "{{ story.filename }}",
    pdfUrl: "{{ story.pdf_url }}"
  };

  const DEFAULT_URL = _story.pdfUrl;
</script>

<script src="/static/pdf-viewer.mjs" type="module"></script>

{% endblock %}